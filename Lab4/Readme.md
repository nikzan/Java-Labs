# Лабораторная работа №4

## Содержание
1. [Структура проекта](#структура-проекта)
2. [Как работает основной код в Main](#как-работает-основной-код-в-main)
3. [Задача 1.1 — Обобщенная Коробка](#задача-11-обобщенная-коробка)
4. [Задача 1.3 — Сравнение](#задача-13-сравнение)
5. [Задача 2 — Поиск максимума](#задача-2-поиск-максимума)
6. [Задача 3 — Функциональные интерфейсы](#задача-3-функциональные-интерфейсы)
7. [Вспомогательные элементы](#вспомогательные-элементы)

## Структура проекта
Проект посвящен изучению обобщений (Generics) и функциональных интерфейсов в Java.
- `Main` — главный класс с интерактивным меню для демонстрации всех задач.
- `TestRunner` — класс для автоматического запуска тестов и проверки корректности решений.
- `Box<T>` — обобщенный класс-контейнер для хранения одного объекта.
- `Comparable<T>` — обобщенный интерфейс для сравнения объектов.
- `BoxUtils` — утилитарный класс для работы с коробками (поиск максимума).
- `ListUtils` — утилитарный класс, реализующий функции `map`, `filter`, `reduce`, `collect` для списков.

## Как работает основной код в Main
Класс `Main` предоставляет консольное меню, позволяющее пользователю выбрать задачу для демонстрации.
При запуске программы выводится список доступных опций:
1. Демонстрация работы с Коробкой (Box).
2. Демонстрация поиска максимума в коробках.
3. Демонстрация функциональных методов (map, filter, reduce).
4. Запуск автоматических тестов.

## Задача 1.1 — Обобщенная Коробка
Реализация: класс `ru.nikzan.generics.Box<T>`.
### Назначение
Хранение единственного объекта типа `T`. Коробка может быть пустой или заполненной.
### Методы
- `void put(T item)` — кладет предмет в коробку.
  - Если коробка уже заполнена, выбрасывает `IllegalStateException`.
  - Если передан `null`, выбрасывает `IllegalArgumentException`.
- `T take()` — извлекает предмет из коробки, обнуляя ссылку.
  - Если коробка пуста, выбрасывает `IllegalStateException`.
- `boolean isFull()` — проверяет, заполнена ли коробка.
- `boolean isEmpty()` — проверяет, пуста ли коробка.
- `T peek()` — возвращает предмет без извлечения (для проверки).

**Пример использования:**
```java
Box<Integer> intBox = new Box<>();
intBox.put(123);
int value = intBox.take();
```

## Задача 1.3 — Сравнение
Реализация: интерфейс `ru.nikzan.generics.Comparable<T>`.
### Назначение
Обобщенный интерфейс, позволяющий сравнивать объекты текущего типа с объектами типа `T`.
### Методы
- `int compareTo(T other)` — возвращает положительное число, если текущий объект больше, отрицательное, если меньше, и 0, если они равны.

## Задача 2 — Поиск максимума
Реализация: класс `ru.nikzan.generics.BoxUtils`.
### Назначение
Поиск максимального значения среди содержимого нескольких коробок.
### Особенности
- Метод `max(Box<? extends Number>... boxes)` принимает переменное количество коробок.
- Использует wildcard `? extends Number`, чтобы работать с коробками `Box<Integer>`, `Box<Double>` и т.д.
- Возвращает `double` значение максимума.

**Пример использования:**
```java
Box<Integer> b1 = new Box<>(); b1.put(10);
Box<Double> b2 = new Box<>(); b2.put(20.5);
double maxVal = BoxUtils.max(b1, b2); // 20.5
```

## Задача 3 — Функциональные интерфейсы
Реализация: класс `ru.nikzan.functional.ListUtils`.
### Назначение
Реализация аналогов методов Stream API для работы со списками.
### Методы
- `map(List<T> list, Function<T, R> mapper)` — преобразует элементы списка типа `T` в список типа `R`.
- `filter(List<T> list, Predicate<T> predicate)` — возвращает новый список, содержащий только элементы, удовлетворяющие условию.
- `reduce(List<T> list, T identity, BinaryOperator<T> accumulator)` — сводит список к одному значению (агрегация).
- `collect(List<T> list, Supplier<R> supplier, BiConsumer<R, T> accumulator)` — собирает элементы списка в коллекцию (например, в новый список или строку).

**Пример использования:**
```java
List<String> strings = List.of("qwerty", "asdfg", "zx");
List<Integer> lengths = ListUtils.map(strings, s -> s.length());
```

## Вспомогательные элементы
### TestRunner
Класс `ru.nikzan.main.TestRunner` содержит набор unit-тестов для проверки всех задач.
- `testBox()`: проверяет `put`, `take`, исключения.
- `testBoxUtils()`: проверяет поиск максимума.
- `testFunctional()`: проверяет `map`, `filter`, `reduce`.
- `testComparable()`: проверяет интерфейс сравнения.
Запуск тестов доступен из главного меню.
